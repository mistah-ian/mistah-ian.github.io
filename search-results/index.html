<!DOCTYPE html>

<html lang="en">

  <head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Working towards providing better medical information regarding your health, nutrition, and fitness"> 
    <meta name="keywords" content="Medicine, medical, health, nutrition, fitness"> 

    <title>Search Results</title>

    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.0/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.0/css/all.min.css" crossorigin="anonymous"/>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/articles.css">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4226418454910857"
     crossorigin="anonymous"></script>

  </head>

  <body>

    <header>

      <div class="header-left">
        
        <div class="hamburger">
          <button id="hamburger-button" onclick="toggleMenu()">&#9776;</button>
        </div>

        <div class="header-logo">
          <a href="/index.html">healtharticles</a>
        </div>

      </div>

      <div class="header-centre">

        <a href="#">Health<br>Conditions</a>
        <a href="#">Vitamins &<br>Supplements</a>
        <a href="#">Skin<br>Care</a>
        <a href="#">Hair & Beauty<br>Products</a>

      </div>

      <div class="header-right">
        
        <div class="search-box">
          <button id="search-button" aria-label="Search" onclick="openSearchMenu()">
            <i class="fas fa-search"></i>
          </button>
        </div>

        <div class="header-subscribe">
          <button id="subscribe-btn">Subscribe</button>
        </div>

      </div>

    </header>

    <div class="modal" id="subscribe-modal">

      <div class="modal-popup">

        <div class="modal-content">

          <button class="close">&times;</button>

          <div class="actual-modal-content">

            <form id="subscribe-form">
              <h3>Sign Up for Our Health Updates for Free</h3>
              <p class="subscription-form-caption">Get the latest in health and wellness straight into your inbox.</p>
              <input type="email" id="subscriber-email" placeholder="Enter your email" required>
              <small id="email-error">Please enter a valid email address.</small>
              <button id="submit-subscribe">SIGN UP</button>
            </form>

            <div id="loading-spinner">
              <div class="spinner"></div>
            </div>

            <p class="privacy-important-caption">Your privacy is important to us</p>

            <p id="thank-you-message">Thanks for subscribing!</p>

            <p id="already-subscribed">You're already subscribed!</p>

          </div>

        </div>

      </div>

    </div>

    <div class="hamburger-menu" id="hamburger-menu" aria-label="Main menu">

      <div class="search-bar">
        <input type="text" id="searchInputMenu" placeholder="Search Healtharticles">
        <button id="goBtnMenu">Go</button>
      </div>
      <div class="suggestions-container-menu" id="suggestions-container-menu"></div>
      <p class="search-query-display-menu" id="search-query-display-menu"></p>
      <hr>

      <a href="#">
        <span>Home</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Health Conditions</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Nutrition</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Fitness</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Vitamins & Supplements</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Skin Care</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Hair & Beauty Products</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Overcoming Addictions</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Product Reviews</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Cold & Flu Management</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Mental Health</span>
        <span>&gt;</span>
      </a>
      <hr>

      <a href="#">
        <span>Sexual Health</span>
        <span>&gt;</span>
      </a>
      <hr>

      <div class="about-contact-advertise-hamburger">
        <a href="#">About Us</a>
        <a href="#">Contact Us</a>
        <a href="#">Advertise With Us</a>
      </div>

      <div class="follow-us-on-hamburger">

        <p>Follow us on Social Media</p>

        <div class="follow-us-on-hamburger-icons">

          <a href="#" class="facebook" target="_blank" title="Follow us on Facebook">
            <i class="fab fa-facebook-f"></i>
          </a>

          <a href="https://x.com/h_articles_254" class="twitter" target="_blank" title="Follow us on Twitter">
            <i class="fab fa-x-twitter"></i>
          </a>

          <a href="https://www.instagram.com/health_articles_254/" class="instagram" target="_blank" title="Follow us on Instagram">
            <i class="fab fa-instagram"></i>
          </a>

          <a href="https://t.me/health_articles_254" class="telegram" target="_blank" title="Join our Telegram Channel">
            <i class="fab fa-telegram-plane"></i>
          </a>

          <a href="https://www.youtube.com/@health_articles_254" class="youtube" target="_blank" title="Follow us on YouTube">
            <i class="fab fa-youtube"></i>
          </a>

          <a href="https://www.tiktok.com/@health_articles_254" class="tiktok" target="_blank" title="Follow us on TikTok">
            <i class="fab fa-tiktok"></i>
          </a>

          <a href="https://www.pinterest.com/healtharticles254/" class="pinterest" target="_blank" title="Follow us on Pinterest">
            <i class="fab fa-pinterest-p"></i>
          </a>

          <a href="https://whatsapp.com/channel/0029Vb7O4QqFsn0cymrtKv2W" class="whatsapp" target="_blank" title="Join our WhatsApp Channel">
            <i class="fab fa-whatsapp"></i>
          </a>

          <a href="https://www.reddit.com/user/health_articles_254/" class="reddit" target="_blank" title="Follow us on Reddit">
            <i class="fab fa-reddit-alien"></i>
          </a>

        </div>

      </div>

    </div>

    <main class="search-results-main">

      <div class="main-search-container">

        <input type="text" id="mainPageSearchInput" placeholder="Search Healtharticles">

        <button title="Clear" id="clear-search-btn">&#x2715;</button>

        <button id="main-go-btn">Go</button>
      </div>
      <div id="suggestions-container"></div>
      
      <div class="search-status">
        <h3 id="search-query-display"></h3>
      </div>

      <div id="results-container"></div>

    </main>

    <div class="follow-us-on">

      <p>Follow us on Social Media</p>

      <div class="follow-us-on-icons">

        <a href="#" class="facebook" target="_blank" title="Follow us on Facebook">
          <i class="fab fa-facebook-f"></i>
        </a>

        <a href="https://x.com/h_articles_254" class="twitter" target="_blank" title="Follow us on Twitter">
          <i class="fab fa-x-twitter"></i>
        </a>

        <a href="https://www.instagram.com/health_articles_254/" class="instagram" target="_blank" title="Follow us on Instagram">
          <i class="fab fa-instagram"></i>
        </a>

        <a href="https://t.me/health_articles_254" class="telegram" target="_blank" title="Join our Telegram Channel">
          <i class="fab fa-telegram-plane"></i>
        </a>

        <a href="https://www.youtube.com/@health_articles_254" class="youtube" target="_blank" title="Follow us on YouTube">
          <i class="fab fa-youtube"></i>
        </a>

        <a href="https://www.tiktok.com/@health_articles_254" class="tiktok" target="_blank" title="Follow us on TikTok">
          <i class="fab fa-tiktok"></i>
        </a>

        <a href="https://www.pinterest.com/healtharticles254/" class="pinterest" target="_blank" title="Follow us on Pinterest">
          <i class="fab fa-pinterest-p"></i>
        </a>

        <a href="https://whatsapp.com/channel/0029Vb7O4QqFsn0cymrtKv2W" class="whatsapp" target="_blank" title="Join our WhatsApp Channel">
          <i class="fab fa-whatsapp"></i>
        </a>

        <a href="https://www.reddit.com/user/health_articles_254/" class="reddit" target="_blank" title="Follow us on Reddit">
          <i class="fab fa-reddit-alien"></i>
        </a>

      </div>

    </div>

    <footer>

      <div class="footer-logo">
        <a href="/index.html">healtharticles</a>
      </div>

      <div class="about-contact-advertise-footer">
        <a href="#">About Us</a>
        <a href="#">Contact Us</a>
        <a href="#">Advertise With Us</a>
      </div>

    </footer>

    <script>

      function toggleMenu() {
        const menu = document.getElementById("hamburger-menu");
        const btn = document.getElementById("hamburger-button");
        const body = document.body;

        menu.classList.toggle("active");

        if (menu.classList.contains("active")) {
          btn.innerHTML = "&#10005;"; 
          body.classList.add("no-scroll"); 
          menu.scrollTop = 0;
        } else {
          btn.innerHTML = "&#9776;"; 
          body.classList.remove("no-scroll"); 
        }
      }

      function openSearchMenu() {
        const menu = document.getElementById("hamburger-menu");
        const btn = document.getElementById("hamburger-button");
        const body = document.body;

        if (!menu.classList.contains("active")) {
          menu.classList.add("active");
          btn.innerHTML = "&#10005;";
          body.classList.add("no-scroll"); 
          menu.scrollTop = 0;
        }

        document.querySelector("#hamburger-menu input").focus();
      }

      document.addEventListener("click", function(event) {
        const menu = document.getElementById("hamburger-menu");
        const btn = document.getElementById("hamburger-button");
        const searchBtn = document.getElementById("search-button");
        const body = document.body;

        if (
          menu.classList.contains("active") &&
          !menu.contains(event.target) &&
          !btn.contains(event.target) &&   
          !searchBtn.contains(event.target) 
        ) {
          menu.classList.remove("active");
          btn.innerHTML = "&#9776;";
          body.classList.remove("no-scroll"); 
        }
      });

      function adjustMenuHeight() {
        const header = document.querySelector("header");
        const menu = document.getElementById("hamburger-menu");

        if (header && menu) {
          const headerHeight = header.offsetHeight;
          const extraTOCoffset = 30;

          menu.style.top = headerHeight + "px";
          menu.style.height = `calc(100% - ${headerHeight}px)`;
          
          document.documentElement.style.scrollPaddingTop = (headerHeight + extraTOCoffset) + "px";
        }
      }

      window.addEventListener("load", adjustMenuHeight);
      window.addEventListener("resize", adjustMenuHeight);

    </script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {

        const mainInput = document.getElementById('searchInputMenu'); 
        const mainGoBtn = document.getElementById('goBtnMenu'); 
        const suggestionsContainer = document.getElementById('suggestions-container-menu'); 
        const statusDisplay = document.getElementById('search-query-display-menu'); 

        const hamburgerMenu = document.getElementById("hamburger-menu");
        const hamburgerBtn = document.getElementById("hamburger-button");
        const body = document.body;
        
        let allArticles = []; 
        let debounceTimer;
        const DEBOUNCE_DELAY = 200;

        fetch('/articles.json')
          .then(res => res.json())
          .then(data => {
            allArticles = data.map(article => ({
              ...article,
              processed_keywords: article.description.split(',').map(k => k.trim().toLowerCase())
            }));
          })
          .catch(err => {
            console.error("Error loading articles for menu search:", err);
            statusDisplay.textContent = "Error loading search data.";
          });

        function performSearch(query) {
          if (!query.trim()) {
            statusDisplay.textContent = "Please enter a keyword.";
            return;
          }
          
          if (hamburgerMenu.classList.contains("active")) {
            hamburgerMenu.classList.remove("active");
            hamburgerBtn.innerHTML = "&#9776;";
            body.classList.remove("no-scroll");
          }
          
          window.location.href = `/search-results/search-results.html?q=${encodeURIComponent(query)}&page=1`;
        }

        function showSuggestions(query) {
          suggestionsContainer.innerHTML = ''; 

          if (!query.trim() || query.length < 1) { 
            suggestionsContainer.style.display = 'none';
            return;
          }

          const lowerQuery = query.toLowerCase();
          const suggestions = new Set();
          let suggestionCount = 0;
          const MAX_SUGGESTIONS = 10; 

          for (const article of allArticles) {

            if (article.title.toLowerCase().includes(lowerQuery) && suggestionCount < MAX_SUGGESTIONS) {
              suggestions.add(article.title);
              suggestionCount++;
            }

            for (const keyword of article.processed_keywords) {
              if (keyword.includes(lowerQuery) && suggestionCount < MAX_SUGGESTIONS) {
                suggestions.add(keyword);
                suggestionCount++;
              }
            }
            
            for (const relatedKeyword of article.related_keywords ?? []) {
              if (relatedKeyword.toLowerCase().includes(lowerQuery) && suggestionCount < MAX_SUGGESTIONS) {
                suggestions.add(relatedKeyword);
                suggestionCount++;
              }
            }
            
            if (suggestionCount >= MAX_SUGGESTIONS) break; 
          }

          if (suggestions.size > 0) {
            suggestionsContainer.style.display = 'block';
            
            suggestions.forEach(suggestion => {
              const suggestionItem = document.createElement('div');
              suggestionItem.classList.add('suggestion-item-menu'); 
              suggestionItem.textContent = suggestion;
              
              suggestionItem.addEventListener('click', () => {
                mainInput.value = suggestion;
                suggestionsContainer.style.display = 'none';
                performSearch(suggestion);
              });

              suggestionsContainer.appendChild(suggestionItem);
            });
          } else {
            suggestionsContainer.style.display = 'none';
          }
        }

        mainInput.addEventListener('input', () => {
          statusDisplay.textContent = ''; 
          clearTimeout(debounceTimer); 
          debounceTimer = setTimeout(() => {
            showSuggestions(mainInput.value);
          }, DEBOUNCE_DELAY);
        });
        
        mainGoBtn.addEventListener('click', () => {
          suggestionsContainer.style.display = 'none';
          performSearch(mainInput.value);
        });

        mainInput.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            suggestionsContainer.style.display = 'none';
            performSearch(mainInput.value);
          }
        });

        mainInput.addEventListener('blur', () => {
          setTimeout(() => {
            suggestionsContainer.style.display = 'none';
          }, 150); 
        });

        mainInput.addEventListener('focus', () => {
          if (mainInput.value.length > 0) {
            showSuggestions(mainInput.value);
          }
        });

      });
    </script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {

        const modal = document.getElementById("subscribe-modal");
        const openBtn = document.getElementById("subscribe-btn");
        const closeBtn = document.querySelector(".close");
        const submitBtn = document.getElementById("submit-subscribe");
        const thankYouMsg = document.getElementById("thank-you-message");
        const alreadySubbedMsg = document.getElementById("already-subscribed");
        const emailInput = document.getElementById("subscriber-email");
        const privacyCaption = document.querySelector(".privacy-important-caption");
        const emailError = document.getElementById("email-error");
        const spinner = document.getElementById("loading-spinner");

        const mailchimpURL =
          "https://shop.us7.list-manage.com/subscribe/post-json?u=4400d7b98dea603f52140c409&id=c6a24af679&f_id=00c6cee4f0&c=?";

        if (!modal || !openBtn || !closeBtn || !submitBtn) {
          console.warn("Subscription modal script: One or more critical elements are missing from the DOM.");
          return; 
        }

        function openModal() {
          modal.style.display = "block";
          document.body.classList.add("modal-open");
          setTimeout(() => emailInput.focus(), 100);
        }

        function closeModal() {
          modal.style.display = "none";
          document.body.classList.remove("modal-open");

          thankYouMsg.style.display = "none";
          alreadySubbedMsg.style.display = "none";
          emailError.style.display = "none";
          spinner.style.display = "none";
          emailInput.style.display = "block";
          submitBtn.style.display = "inline-block";
          privacyCaption.style.display = "block";
          emailInput.value = "";
        }

        function isValidEmail(email) {
          const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return pattern.test(email);
        }

        function handleSubmit() {
          const email = emailInput.value.trim();

          emailError.style.display = "none";
          thankYouMsg.style.display = "none";
          alreadySubbedMsg.style.display = "none";

          if (email === "") {
            emailError.textContent = "Please enter your email address.";
            emailError.style.display = "block";
            return;
          }

          if (!isValidEmail(email)) {
            emailError.textContent = "Please enter a valid email address.";
            emailError.style.display = "block";
            return;
          }

          spinner.style.display = "block"; 

          const script = document.createElement("script");
          const callbackName = "jsonp_callback_" + Math.random().toString(36).substring(2, 9);

          window[callbackName] = (data) => {
            spinner.style.display = "none";

            emailInput.style.display = "none";
            submitBtn.style.display = "none";
            privacyCaption.style.display = "none";

            if (data.result === "success") {
              thankYouMsg.style.display = "block";
              thankYouMsg.setAttribute('tabindex', '-1'); thankYouMsg.focus();
            } else if (data.msg && data.msg.includes("is already subscribed")) {
              alreadySubbedMsg.style.display = "block";
              alreadySubbedMsg.setAttribute('tabindex', '-1'); alreadySubbedMsg.focus();
            } else {
              emailError.textContent = "Something went wrong. Please try again.";
              emailError.style.display = "block";
              emailInput.style.display = "block";
              submitBtn.style.display = "inline-block";
              privacyCaption.style.display = "block";
              emailInput.focus();
            }

            document.body.removeChild(script);
            delete window[callbackName];
          };

          script.src = `${mailchimpURL}&EMAIL=${encodeURIComponent(email)}&c=${callbackName}`;
          document.body.appendChild(script);
        }

        openBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          openModal();
        });

        closeBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          closeModal();
        });

        submitBtn.addEventListener("click", (e) => {
          e.preventDefault();
          handleSubmit();
        });

        emailInput.addEventListener("keydown", (e) => {
          if (e.key === "Enter") {
            e.preventDefault();
            handleSubmit();
          }
        });

        emailInput.addEventListener("input", () => {
          if (emailError.style.display === "block") {
            emailError.style.display = "none";
          }
        });

        document.addEventListener("click", (e) => {
          if (modal.style.display !== "block") return;
          if (e.target.closest(".modal-content") || e.target.closest(".header-subscribe")) return;
          closeModal();
        });

        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && modal.style.display === "block") closeModal();
        });

      });
    </script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
            
        const mainInput = document.getElementById('mainPageSearchInput');
        const mainGoBtn = document.getElementById('main-go-btn');
        const clearBtn = document.getElementById('clear-search-btn');
        const resultsContainer = document.getElementById('results-container');
        const statusDisplay = document.getElementById('search-query-display');
        const suggestionsContainer = document.getElementById('suggestions-container');
        
        let allArticles = []; 

        let debounceTimer;
        const DEBOUNCE_DELAY = 200;

        const params = new URLSearchParams(window.location.search);
        const initialQuery = params.get('q');

        if (initialQuery) {
          mainInput.value = initialQuery; 
        }

        fetch('/articles.json')
          .then(res => res.json())
          .then(data => {

            allArticles = data.map(article => ({
              ...article,
              processed_keywords: article.description.split(',').map(k => k.trim().toLowerCase())
            })); 
            
            if (initialQuery) {
              performSearch(initialQuery);
            } else {
              resultsContainer.innerHTML = ''; 
              statusDisplay.textContent = "Enter a keyword above to find articles.";
            }
          })
          .catch(err => {
            console.error(err);
            resultsContainer.innerHTML = '<p>Error loading articles. (Are you running this on a server?)</p>';
          });

        function showSuggestions(query) {
          suggestionsContainer.innerHTML = ''; 

          if (!query.trim() || query.length < 1) { 
            suggestionsContainer.style.display = 'none';
            return;
          }

          const lowerQuery = query.toLowerCase();
          const suggestions = new Set();
          let suggestionCount = 0;
          const MAX_SUGGESTIONS = 10; 

          for (const article of allArticles) {

            if (article.title.toLowerCase().includes(lowerQuery) && suggestionCount < MAX_SUGGESTIONS) {
              suggestions.add(article.title);
              suggestionCount++;
            }

            for (const keyword of article.processed_keywords) {
              if (keyword.includes(lowerQuery) && suggestionCount < MAX_SUGGESTIONS) {
                suggestions.add(keyword);
                suggestionCount++;
              }
            }
            
            for (const relatedKeyword of article.related_keywords ?? []) {
              if (relatedKeyword.toLowerCase().includes(lowerQuery) && suggestionCount < MAX_SUGGESTIONS) {
                suggestions.add(relatedKeyword);
                suggestionCount++;
              }
            }
            
            if (suggestionCount >= MAX_SUGGESTIONS) break; 
          }

          if (suggestions.size > 0) {
            suggestionsContainer.style.display = 'block';
            
            suggestions.forEach(suggestion => {
              const suggestionItem = document.createElement('div');
              suggestionItem.classList.add('suggestion-item');
              suggestionItem.textContent = suggestion;
              
              suggestionItem.addEventListener('click', () => {
                mainInput.value = suggestion;
                suggestionsContainer.style.display = 'none';
                performSearch(suggestion);
              });

              suggestionsContainer.appendChild(suggestionItem);
            });
          } else {
            suggestionsContainer.style.display = 'none';
          }
        }

        function performSearch(query) {
          resultsContainer.innerHTML = '';
          
          if (!query.trim()) {
            statusDisplay.textContent = "Please enter a keyword.";
            return;
          }

          const lowerQuery = query.toLowerCase();

          const filtered = allArticles.filter(article => {
            const titleMatch = article.title.toLowerCase().includes(lowerQuery);
            const descriptionMatch = article.processed_keywords.some(keyword => keyword.includes(lowerQuery));
            const relatedKeywordsMatch = (article.related_keywords ?? []).join(' ').toLowerCase().includes(lowerQuery);

            return titleMatch || descriptionMatch || relatedKeywordsMatch;
          });

          if (filtered.length === 0) {
            statusDisplay.textContent = `No results found for "${query}"`;
          }

          const regex = new RegExp(query, "gi");

          filtered.forEach(item => {

            const newTitle = item.title.replace(regex, (match) => `<mark>${match}</mark>`);
            const newDesc = item.description.replace(regex, (match) => `<mark>${match}</mark>`);

            const html = `
              <div class="result-card">
                <a href="${item.url}">
                  <h3 class="result-card-title">${newTitle}</h3>
                  <p class="result-card-description">${newDesc}</p>
                </a>
              </div>
            `;
            resultsContainer.innerHTML += html;
          });
        }

        mainGoBtn.addEventListener('click', () => {
          performSearch(mainInput.value);
        });

        mainInput.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            suggestionsContainer.style.display = 'none';
            mainGoBtn.click();
          }
        });

        mainInput.addEventListener('input', () => {
          statusDisplay.textContent = ''; 
          
          clearTimeout(debounceTimer); 
          debounceTimer = setTimeout(() => {
            showSuggestions(mainInput.value);
          }, DEBOUNCE_DELAY);
        });

        clearBtn.addEventListener('click', () => {
          mainInput.value = '';
          mainInput.focus();
        });

        mainInput.addEventListener('blur', () => {
          setTimeout(() => {
            suggestionsContainer.style.display = 'none';
          }, 150); 
        });

        mainInput.addEventListener('focus', () => {
          if (mainInput.value.length > 0) {
            showSuggestions(mainInput.value);
          }
        });

      });
    </script>

  </body>

</html>




